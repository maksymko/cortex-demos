<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cortex-DemOS: mock::IOHandlerStub Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Cortex-DemOS<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">Cortex-M Microcontroller Operating System with focus on testability</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>mock</b></li><li class="navelem"><a class="el" href="classmock_1_1IOHandlerStub.html">IOHandlerStub</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classmock_1_1IOHandlerStub-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mock::IOHandlerStub Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Base class for more complex IO handlers.  
 <a href="classmock_1_1IOHandlerStub.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mock__memio_8hpp_source.html">mock_memio.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mock::IOHandlerStub:</div>
<div class="dyncontent">
<div class="center"><img src="classmock_1_1IOHandlerStub__inherit__graph.png" border="0" usemap="#amock_1_1IOHandlerStub_inherit__map" alt="Inheritance graph"/></div>
<map name="amock_1_1IOHandlerStub_inherit__map" id="amock_1_1IOHandlerStub_inherit__map">
<area shape="rect" title="Base class for more complex IO handlers." alt="" coords="5,107,152,133"/>
<area shape="rect" href="classmock_1_1IgnoreWrites.html" title="Ignore writes to the handled virtual memory address." alt="" coords="213,5,347,32"/>
<area shape="rect" href="classmock_1_1RegSetClearStub.html" title="IO Handler for the register with separate &quot;set&quot; and &quot;clear&quot; registers." alt="" coords="200,56,360,83"/>
<area shape="rect" href="classmock_1_1SourceIOHandler.html" title="Source reads from a list." alt="" coords="200,107,360,133"/>
<area shape="rect" href="classmock_1_1W1CStub.html" title="Write One To Clear Handler." alt="" coords="223,157,337,184"/>
<area shape="rect" href="classmock_1_1WriteSink.html" title="Write values into a sink." alt="" coords="207,208,353,235"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a67d17aa0d0f6823bf6e50b067ca7ce2c"><td class="memItemLeft" align="right" valign="top">virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmock_1_1IOHandlerStub.html#a67d17aa0d0f6823bf6e50b067ca7ce2c">write32</a> (uint32_t addr, uint32_t old_value, uint32_t new_value)</td></tr>
<tr class="memdesc:a67d17aa0d0f6823bf6e50b067ca7ce2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle write at 32 bit aligned virtual memory address.  <a href="classmock_1_1IOHandlerStub.html#a67d17aa0d0f6823bf6e50b067ca7ce2c">More...</a><br /></td></tr>
<tr class="separator:a67d17aa0d0f6823bf6e50b067ca7ce2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac31af2647674922ef69d0638d2172b31"><td class="memItemLeft" align="right" valign="top">virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmock_1_1IOHandlerStub.html#ac31af2647674922ef69d0638d2172b31">read32</a> (uint32_t addr, uint32_t value)</td></tr>
<tr class="memdesc:ac31af2647674922ef69d0638d2172b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle read from 32 bit aligned virtual memory address.  <a href="classmock_1_1IOHandlerStub.html#ac31af2647674922ef69d0638d2172b31">More...</a><br /></td></tr>
<tr class="separator:ac31af2647674922ef69d0638d2172b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92cc46f6fcb8ba822b9d8bbbf1f8ca0a"><td class="memItemLeft" align="right" valign="top"><a id="a92cc46f6fcb8ba822b9d8bbbf1f8ca0a" name="a92cc46f6fcb8ba822b9d8bbbf1f8ca0a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_memory</b> (<a class="el" href="classmock_1_1Memory.html">Memory</a> *mem)</td></tr>
<tr class="memdesc:a92cc46f6fcb8ba822b9d8bbbf1f8ca0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter for the mem_ field. <br /></td></tr>
<tr class="separator:a92cc46f6fcb8ba822b9d8bbbf1f8ca0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a494d769b26c97a9b4fb191deed2421ce"><td class="memItemLeft" align="right" valign="top"><a id="a494d769b26c97a9b4fb191deed2421ce" name="a494d769b26c97a9b4fb191deed2421ce"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_mem_value</b> (uint32_t addr, uint32_t value)</td></tr>
<tr class="memdesc:a494d769b26c97a9b4fb191deed2421ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as mem_-&gt;set_value_at(uint32_t, uint32_t) <br /></td></tr>
<tr class="separator:a494d769b26c97a9b4fb191deed2421ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf25c428fee4449af6589275b3a2bc6"><td class="memItemLeft" align="right" valign="top"><a id="a7bf25c428fee4449af6589275b3a2bc6" name="a7bf25c428fee4449af6589275b3a2bc6"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>get_mem_value</b> (uint32_t addr) const</td></tr>
<tr class="memdesc:a7bf25c428fee4449af6589275b3a2bc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as mem_-&gt;get_value_at(uint32_t) <br /></td></tr>
<tr class="separator:a7bf25c428fee4449af6589275b3a2bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Base class for more complex IO handlers. </p>
<p >The default behavior is the same as not having the custom handler at all, which makes this class by itself not very useful. The derived classes should override at least one of <a class="el" href="classmock_1_1IOHandlerStub.html#ac31af2647674922ef69d0638d2172b31" title="Handle read from 32 bit aligned virtual memory address.">read32()</a>, <a class="el" href="classmock_1_1IOHandlerStub.html#a67d17aa0d0f6823bf6e50b067ca7ce2c" title="Handle write at 32 bit aligned virtual memory address.">write32()</a> methods.</p>
<p >The objects typically don't need their own value storage, because the values written are still stored in Virtual <a class="el" href="classmock_1_1Memory.html" title="Virtual Memory IO handler for tests.">Memory</a>.</p>
<p >FIXME: The API for accessing the global virtual memory is a little awkward at the moment. If the implementation uses global virtual memory object, the user needs to know that and they need to initialize mem_ value. This is not ideal. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac31af2647674922ef69d0638d2172b31" name="ac31af2647674922ef69d0638d2172b31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac31af2647674922ef69d0638d2172b31">&#9670;&nbsp;</a></span>read32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint32_t mock::IOHandlerStub::read32 </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle read from 32 bit aligned virtual memory address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
<p>param [in] addr Virtual memory address. 32 bit aligned.</p>
<dl class="section return"><dt>Returns</dt><dd>The value that should be returned to the reader. </dd></dl>

<p>Reimplemented in <a class="el" href="classmock_1_1RegSetClearStub.html#aae1b2246bcb20e1e9024bdbbf8711b0b">mock::RegSetClearStub</a>, and <a class="el" href="classmock_1_1SourceIOHandler.html#aabfdd2c6d0d94cd34f22e19292caf4b7">mock::SourceIOHandler</a>.</p>

</div>
</div>
<a id="a67d17aa0d0f6823bf6e50b067ca7ce2c" name="a67d17aa0d0f6823bf6e50b067ca7ce2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d17aa0d0f6823bf6e50b067ca7ce2c">&#9670;&nbsp;</a></span>write32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint32_t mock::IOHandlerStub::write32 </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>old_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>new_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle write at 32 bit aligned virtual memory address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Virtual memory address. 32 bit aligned. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">old_value</td><td>Value currently stored at that address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">new_value</td><td>Value that is being written</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new value that should be stored in the virtual memory at addr. </dd></dl>

<p>Reimplemented in <a class="el" href="classmock_1_1RegSetClearStub.html#af9f41005428740b701646ae567f6da3b">mock::RegSetClearStub</a>, <a class="el" href="classmock_1_1IgnoreWrites.html#a7867a7f4b1eef2ac3125e11e1070f39d">mock::IgnoreWrites</a>, <a class="el" href="classmock_1_1WriteSink.html#a2feff64ed48bdb06f7b9c1615f0e31d3">mock::WriteSink&lt; T &gt;</a>, and <a class="el" href="classmock_1_1W1CStub.html#ad7188ce7968b31dd3e872f417935bcde">mock::W1CStub</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>tests/<a class="el" href="mock__memio_8hpp_source.html">mock_memio.hpp</a></li>
<li>tests/mock_memio.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
